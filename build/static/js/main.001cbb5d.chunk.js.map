{"version":3,"sources":["components/Heading.js","components/LinkButton.js","components/UserForm.js","services/userService.js","reducers/signUpReducer.js","components/LogInPage/SignUpLink.js","services/recipeService.js","services/login.js","reducers/userReducer.js","components/LogInPage/LogInBlock.js","components/SignUpPage/SignUpBlock.js","components/HomePage/Recipes.js","components/HomePage/LoggedInUser.js","components/HomePage/LoggedInBlock.js","components/AboutPage/About.js","components/Footer.js","reducers/filterReducer.js","components/HomePage/Filter.js","components/Button.js","components/HomePage/HomeTopBlock.js","components/UploadPage/LogOutLinkButton.js","reducers/recipeReducer.js","components/UploadPage/DragnDrop.js","components/UploadPage/Upload.js","components/AboutPage/AboutTopBlock.js","reducers/usersReducer.js","App.js","store.js","index.js"],"names":["Heading","className","Heading3","H1LinkHead","withRouter","props","history","to","onClick","event","push","id","text","type","UserForm","handleSubmit","handleUsernameChange","handlePasswordChange","username","password","buttonText","onSubmit","value","onChange","getUsers","a","axios","get","req","data","getAll","then","res","signUp","newUser","post","signUpUser","signUpData","dispatch","userService","createdUser","console","log","reducer","state","action","SignUpLink","useDispatch","token","create","newObject","config","headers","Authorization","update","put","setToken","newToken","nullToken","login","credentials","logInUser","loginData","user","window","localStorage","setItem","JSON","stringify","recipeService","logOut","removeItem","loggedUser","LogInBlock","useState","setUsername","setPassword","handleLogin","preventDefault","error","target","SignUpBlock","handleSignUp","length","Error","Recipes","recipes","images","LoggedInUser","usersRecipeCount","LoggedInBlock","users","useri","find","u","getUsersRecipeCount","About","Footer","Date","getFullYear","Filter","Button","handleClick","TopBlock","createRecipe","imageData","uploadImage","FormData","append","fetch","method","body","json","file","secure_url","src","dataToServer","thumbnail","thumbnailWidth","thumbnailHeight","caption","name","thumbnailCaption","message","DragnDrop","files","setFiles","useDropzone","accept","onDrop","acceptedFiles","map","Object","assign","URL","createObjectURL","getRootProps","getInputProps","i","Upload","AboutTopBlock","App","useEffect","parse","getItem","useSelector","HomePage","usersRecipes","filter","r","search","searchedRecipes","toLowerCase","indexOf","HomeTopBlock","LogInPage","SignUpPage","UploadPage","AboutPage","path","combineReducers","recipeReducer","userReducer","usersReducer","filterReducer","signUpReducer","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.001cbb5d.chunk.js","sourcesContent":["import React from 'react'\r\nimport './Heading.css'\r\nimport { withRouter } from 'react-router'\r\n\r\nexport const Heading = () => {\r\n  return (\r\n      <h1 className=\"h1-heading\">Recipet</h1>\r\n  )\r\n}\r\n\r\nconst LinkHeading = (props) => {\r\n  const {\r\n    history,\r\n    to,\r\n    onClick,\r\n  } = props\r\n  return (\r\n    <h1 className=\"h1-heading\"\r\n    onClick={(event) => {\r\n        onClick && onClick(event)\r\n        history.push(to)\r\n      }}\r\n    >Recipet</h1>\r\n  )\r\n}\r\n\r\nconst Heading2 = (props) => {\r\n  const {\r\n    history,\r\n    to,\r\n    onClick,\r\n  } = props\r\n  return (\r\n    <h2 className=\"h2-heading\"\r\n    onClick={(event) => {\r\n        onClick && onClick(event)\r\n        history.push(to)\r\n      }}\r\n    >Recipet</h2>\r\n  )\r\n}\r\n\r\nexport const Heading3 = () => {\r\n  return (\r\n    <h2 className=\"h3-heading\">About</h2>\r\n  )\r\n}\r\nexport const H1LinkHead = withRouter(LinkHeading)\r\nexport default withRouter(Heading2)\r\n","import React from 'react'\r\nimport { withRouter } from 'react-router'\r\nimport './LinkButton.css'\r\n\r\nconst LinkButton = (props) => {\r\n  const {\r\n    history,\r\n    to,\r\n    onClick,\r\n    id,\r\n    className,\r\n    text,\r\n    type,\r\n  } = props\r\n  return (\r\n    <button\r\n    type={type}\r\n    id={id} className={className}\r\n    onClick={(event) => {\r\n        onClick && onClick(event)\r\n        history.push(to)\r\n      }}\r\n    >\r\n      {text}\r\n    </button>\r\n  )\r\n}\r\n\r\nexport default withRouter(LinkButton)","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport './UserForm.css'\r\nimport LinkButton from './LinkButton'\r\n\r\nconst UserForm = ({\r\n  handleSubmit,\r\n  handleUsernameChange,\r\n  handlePasswordChange,\r\n  username,\r\n  password,\r\n  buttonText,\r\n  to\r\n}) => {\r\n  return (\r\n    <div className=\"center\">\r\n      <form onSubmit={handleSubmit}>\r\n          <div >\r\n            <input\r\n            className=\"grey-input\"\r\n            id=\"username\"\r\n              value={username}\r\n              onChange={handleUsernameChange}\r\n            />\r\n          </div>\r\n          <div>\r\n            <input\r\n              className=\"grey-input\"\r\n              id=\"password\"\r\n              type=\"password\"\r\n              value={password}\r\n              onChange={handlePasswordChange}\r\n            />\r\n          </div>\r\n        <LinkButton id=\"login-button\" text={buttonText} className=\"blue-box-button\"  type=\"submit\"/>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nUserForm.propTypes = {\r\n  handleSubmit: PropTypes.func.isRequired,\r\n  handleUsernameChange: PropTypes.func.isRequired,\r\n  handlePasswordChange: PropTypes.func.isRequired,\r\n  username: PropTypes.string.isRequired,\r\n  password: PropTypes.string.isRequired\r\n}\r\n\r\nexport default UserForm\r\n//to={to}","import axios from 'axios'\r\nconst baseUrl = '/api/users'\r\n\r\nconst getAll = () => {\r\n  const req = axios.get(baseUrl)\r\n  return req.then(res => res.data)\r\n}\r\n\r\nconst getUsers = async (id) => {\r\n  const req = await axios.get(`${baseUrl}/${id}`)\r\n  return req.data\r\n}\r\n\r\nconst signUp = async (newUser) => {\r\n  const res = await axios.post(baseUrl, newUser)\r\n  return res.data\r\n}\r\n\r\nexport default { getUsers, getAll, signUp }","import userService from '../services/userService'\r\n\r\nconst reducer = (state = null, action) => {\r\n  switch (action.type) {\r\n    case 'SIGNUP_USER':\r\n      return action.createdUser\r\n    case 'NULL_SIGN_UP_USER':\r\n      return null\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const signUpUser = (signUpData) => {\r\n  return async dispatch => {\r\n    try {\r\n      const createdUser = await userService.signUp(signUpData)\r\n      dispatch({\r\n        type: 'SIGNUP_USER',\r\n        createdUser\r\n      })\r\n/*       dispatch(\r\n        setNotification({\r\n          message: `user: ${createdUser.username} signed Up successfully`\r\n        })\r\n      ) */\r\n    } catch (error) {\r\n      console.log(error);\r\n/*       dispatch(\r\n        setNotification({\r\n          message: 'ValidationError'\r\n        })\r\n      ) */\r\n    }\r\n  }\r\n\r\n}\r\n\r\nexport const nullSignUpUser = () => {\r\n  return {\r\n    type: 'NULL_SIGN_UP_USER',\r\n  }\r\n}\r\n\r\nexport default reducer","import React from 'react' \r\nimport './SignUpLink.css'\r\nimport LinkButton from '../LinkButton'\r\nimport { nullSignUpUser } from '../../reducers/signUpReducer'\r\nimport { useDispatch } from 'react-redux'\r\n\r\nconst SignUpLink = () => {\r\n  const dispatch = useDispatch()\r\n  const handleClick = () => {\r\n    dispatch(nullSignUpUser())\r\n  }\r\n  return (\r\n    <div className=\"center\"> \r\n       <p className=\"black-text\">Don't have an account?\r\n        <LinkButton className=\"blue-text-button\" onClick={handleClick} text=\"Sign up\" to=\"/signup\"/>\r\n      </p>\r\n    </div>\r\n   \r\n  )\r\n}\r\n\r\nexport default SignUpLink","import axios from 'axios'\r\nconst baseUrl = '/api/recipes'\r\n\r\nlet token = null\r\n\r\nconst setToken = newToken => {\r\n  token = `bearer ${newToken}`\r\n}\r\n\r\nconst nullToken = () => {\r\n  token = null\r\n}\r\n\r\nconst getAll = () => {\r\n  const req = axios.get(baseUrl)\r\n  return req.then(res => res.data)\r\n}\r\n\r\nconst create = async newObject => {\r\n  const config = {\r\n    headers: { Authorization: token },\r\n  }\r\n\r\n  const res = await axios.post(baseUrl, newObject, config)\r\n  return res.data\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const req = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return req.then(res => res.data)\r\n}\r\n\r\nexport default { getAll, create, update, setToken, nullToken }","import axios from 'axios'\r\nconst baseUrl = '/api/login'\r\n\r\nconst login = async (credentials) => {\r\n  const res = await axios.post(baseUrl, credentials)\r\n  return res.data\r\n}\r\n\r\nexport default { login }","import recipeService from '../services/recipeService'\r\nimport login from '../services/login'\r\n\r\nconst reducer = (state = null, action) => {\r\n  switch (action.type) {\r\n    case 'INIT_USER':\r\n      return action.loggedUser\r\n    case 'LOGIN_USER':\r\n      return { ...action.user }\r\n    case 'LOGOUT_USER':\r\n      return null\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const initUser = () => {\r\n  return async dispatch => {\r\n    const loggedUser = JSON.parse(window.localStorage.getItem('loggedRecipetUser'))\r\n    if (loggedUser) {\r\n      recipeService.setToken(loggedUser.token)\r\n      dispatch({\r\n        type: 'INIT_USER',\r\n        loggedUser\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\nexport const logInUser = loginData => {\r\n  return async dispatch => {\r\n    try {\r\n      const user = await login.login(loginData)\r\n      window.localStorage.setItem('loggedRecipetUser', JSON.stringify(user))\r\n      recipeService.setToken(user.token)\r\n/*       dispatch(\r\n        setNotification({\r\n          message: `user ${user.username} signed in successfully`\r\n        })\r\n      ) */\r\n      dispatch({\r\n        type: 'LOGIN_USER',\r\n        user\r\n      })\r\n    } catch (error) {\r\n      console.log(error)\r\n/*       dispatch(\r\n        setNotification({\r\n          message: 'invalid username or password'\r\n        })\r\n      ) */\r\n    }\r\n  }\r\n}\r\n\r\nexport const logOut = () => {\r\n  return async dispatch => {\r\n    window.localStorage.removeItem('loggedRecipetUser')\r\n    recipeService.nullToken()\r\n    dispatch({ type: 'LOGOUT_USER' })\r\n/*     dispatch(\r\n      setNotification({\r\n        message: 'user logged out successfully'\r\n      })\r\n    ) */\r\n  }\r\n}\r\nexport default reducer","import React, { useState } from 'react'\r\nimport { Heading } from '../Heading'\r\nimport UserForm from '../UserForm'\r\nimport SignUpLink from './SignUpLink'\r\nimport '../Log-in-and-sign-up-block.css'\r\nimport { logInUser } from '../../reducers/userReducer'\r\nimport { nullSignUpUser } from '../../reducers/signUpReducer'\r\nimport { useDispatch } from 'react-redux'\r\n\r\nconst LogInBlock = () => {\r\n  const dispatch = useDispatch()\r\n  const [username, setUsername] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  \r\n  const handleLogin = async (event) => {\r\n    event.preventDefault()\r\n    try {\r\n      dispatch(nullSignUpUser())\r\n      dispatch(logInUser({username, password}))\r\n      setUsername('')\r\n      setPassword('')\r\n    } catch (error) {\r\n        console.log('error')\r\n/*       setErrorMessage('wrong credentials')\r\n      setTimeout(() => {\r\n        setErrorMessage(null)\r\n      }, 5000) */\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"log-in-and-sign-up-block\">\r\n      <Heading/>\r\n      <UserForm\r\n        username={username}\r\n        password={password}\r\n        handleUsernameChange={({ target }) => setUsername(target.value)}\r\n        handlePasswordChange={({ target }) => setPassword(target.value)}\r\n        handleSubmit={handleLogin}\r\n        buttonText=\"Log In\"\r\n      />\r\n      <SignUpLink/>\r\n    </div>\r\n    </div>\r\n    \r\n  )\r\n}\r\n\r\nexport default LogInBlock","import React, { useState } from 'react'\r\nimport { H1LinkHead } from '../Heading'\r\nimport UserForm from '../UserForm'\r\nimport '../Log-in-and-sign-up-block.css'\r\nimport { signUpUser } from '../../reducers/signUpReducer'\r\nimport { useDispatch } from 'react-redux'\r\n\r\nconst SignUpBlock = () => {\r\n  const dispatch = useDispatch()\r\n  const [username, setUsername] = useState('')\r\n  const [password, setPassword] = useState('')\r\n\r\n  const handleSignUp = async (event) => {\r\n    event.preventDefault()\r\n    try {\r\n      if (password.length < 3) {\r\n        throw new Error(\"Password's minimum length is 3\")\r\n      }\r\n      dispatch(signUpUser({username, password}))\r\n      setUsername('')\r\n      setPassword('')\r\n    } catch (error) {\r\n        console.log('error')\r\n/*       setErrorMessage('NN')\r\n      setTimeout(() => {\r\n        setErrorMessage(null)\r\n      }, 5000) */\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"log-in-and-sign-up-block\">\r\n      <H1LinkHead  to=\"/\"/>\r\n      <UserForm\r\n        username={username}\r\n        password={password}\r\n        handleUsernameChange={({ target }) => setUsername(target.value)}\r\n        handlePasswordChange={({ target }) => setPassword(target.value)}\r\n        handleSubmit={handleSignUp}\r\n        buttonText=\"Sign Up\"\r\n        to=\"/\"\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SignUpBlock","import React from 'react'\r\nimport Gallery from 'react-grid-gallery';\r\n\r\n\r\n\r\nconst Recipes = ({ recipes }) => {\r\n\r\n  return (\r\n    <Gallery images={ recipes }/>\r\n  )\r\n}\r\n\r\nexport default Recipes\r\n\r\n","import React from 'react'\r\nimport './LoggedInUser.css'\r\n\r\nconst LoggedInUser = (props) => {\r\n\r\n  return (\r\n    <div>\r\n      <h3 id=\"h3-heading\">{props.user.username}</h3>\r\n      <p id=\"hasRecipes\">{props.usersRecipeCount} recipes</p>\r\n    </div>\r\n    \r\n  )\r\n}\r\n\r\nexport default LoggedInUser","import React from 'react'\r\nimport './LoggedInBlock.css'\r\nimport LoggedInUser from './LoggedInUser'\r\nimport LinkButton from '../LinkButton'\r\n\r\n\r\nconst LoggedInBlock = (props) => {\r\n\r\n  const getUsersRecipeCount = () => {\r\n    if (props.users) {\r\n      const useri = props.users.find(u => u.username === props.user.username)\r\n      if (useri) \r\n        return useri.recipes.length\r\n    } else {\r\n      return null\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div id=\"logged-in-block\">\r\n      <LoggedInUser user={props.user} usersRecipeCount={getUsersRecipeCount()}/>\r\n      <LinkButton id=\"upload-button\" text=\"Upload Recipe\" to=\"/upload\"/>\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default LoggedInBlock","import React from 'react'\r\nimport './About.css'\r\n\r\nconst About = () => {\r\n  return (\r\n    <div>\r\n      <p>\r\n      Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum quis vestibulum tortor. Sed imperdiet dapibus elementum. Ut mauris ante, ultricies sit amet diam et, ullamcorper tristique nisl. Duis pretium consequat sagittis. Nam ultrices facilisis enim, eu ultricies massa feugiat vel. Sed quis gravida orci, eget ultricies sapien. Nullam eleifend erat ut magna ultrices interdum. Curabitur ac lacus quis dui vestibulum scelerisque. In porttitor rutrum hendrerit. Etiam ut ipsum felis. Vestibulum molestie neque in suscipit finibus. Aenean tincidunt lectus enim, ut varius est mollis a. Etiam dignissim mauris eget sapien pellentesque ultrices nec vitae nisl. Aenean sollicitudin sagittis purus, eu rutrum sapien tristique eget. In quis nunc aliquam, facilisis enim congue, gravida ex. In ipsum tortor, blandit ut facilisis ut, accumsan quis ex. Sed sagittis nisi sed justo fringilla, eleifend varius tellus ornare. Fusce iaculis dui dui, at lacinia lectus molestie sed. Sed viverra vitae risus eu congue. Nulla maximus, arcu id vehicula finibus, nisl sem gravida arcu, nec iaculis nisi nisl nec augue. Aliquam efficitur tortor tincidunt, auctor orci sed, ullamcorper massa. Maecenas non enim leo. Nunc malesuada sagittis pretium. Integer et convallis ante. Etiam pretium justo non nisi egestas pellentesque. Ut faucibus nisi quis est ornare porttitor. Fusce consequat eros et sem pharetra, vitae accumsan ipsum dignissim. Etiam eros felis, sollicitudin vel blandit eget, consectetur in felis. Mauris semper nibh eu nunc posuere, non consectetur elit varius. Sed quam tellus, vulputate a venenatis pretium, consequat vel orci. \r\n      </p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default About","import React from 'react'\r\nimport './Footer.css'\r\nimport LinkButton from './LinkButton'\r\n\r\nconst Footer = () => {\r\n\r\n  return (\r\n    <div className=\"main-footer\">\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <p>\r\n            {new Date().getFullYear()} Recipet | Full Stack Open -harjoitustyö |\r\n            <LinkButton className=\"blue-text-button\" text=\"About\" to=\"/about\"/>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Footer\r\n","const initialState = ''\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case 'SEARCH':\r\n      return action.data\r\n    default: return state\r\n  }\r\n}\r\n\r\nexport const search = (searchCondition) => {\r\n  return {\r\n    type: 'SEARCH',\r\n    data: searchCondition\r\n  }\r\n}\r\n\r\nexport default reducer","import React from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { search } from '../../reducers/filterReducer'\r\nimport './Filter.css'\r\n\r\n\r\nconst Filter = () => {\r\n  const dispatch = useDispatch()\r\n  const handleChange = (event) => {\r\n    dispatch(search(event.target.value))\r\n  }\r\n\r\n  return (\r\n    <div className=\"center\">\r\n      <input\r\n        className=\"search-input\"\r\n        onChange={handleChange}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\nimport './Button.css'\r\n\r\nconst Button = (props) => {\r\n  return (\r\n    <button onClick={props.handleClick}\r\n      id={props.id}\r\n      className={props.className}>\r\n      {props.text}\r\n    </button>\r\n  )\r\n}\r\n\r\nexport default Button","import React from 'react'\r\nimport Heading2 from '../Heading'\r\nimport Filter from './Filter'\r\nimport Button from '../Button'\r\nimport '../TopBlock.css'\r\nimport { logOut } from '../../reducers/userReducer'\r\nimport { useDispatch } from 'react-redux'\r\n\r\nconst TopBlock = () => {\r\n\r\n  const dispatch = useDispatch()\r\n  const handleLogout = () => {\r\n    dispatch(logOut())\r\n  }\r\n\r\nreturn (\r\n  <div className=\"top-block\">\r\n    <Heading2 to=\"/\" />\r\n    <Filter/>\r\n    <Button id=\"log-out-button\" text=\"Log Out\" handleClick={handleLogout}/>\r\n  </div>\r\n)\r\n}\r\n\r\nexport default TopBlock","import React from 'react'\r\nimport { withRouter } from 'react-router'\r\nimport '../LinkButton.css'\r\nimport { logOut } from '../../reducers/userReducer'\r\nimport { useDispatch } from 'react-redux'\r\n\r\nconst LogOutLinkButton = (props) => {\r\n  const {\r\n    history,\r\n    to,\r\n    id,\r\n    className,\r\n    text,\r\n    type,\r\n  } = props\r\n  const dispatch = useDispatch()\r\n  const onClick = () => {\r\n    dispatch(logOut())\r\n  }\r\n  return (\r\n    <button\r\n    type={type}\r\n    id={id} className={className}\r\n    onClick={(event) => {\r\n        onClick && onClick(event)\r\n        history.push(to)\r\n      }}\r\n    >\r\n      {text}\r\n    </button>\r\n  )\r\n}\r\n\r\nexport default withRouter(LogOutLinkButton)","import recipeService from '../services/recipeService'\r\n\r\nconst reducer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case 'INIT_RECIPES':\r\n      return [...action.data]\r\n    case 'CREATE_RECIPE':\r\n      return [...state, action.data]\r\n/*     case 'REMOVE_RECIPE':\r\n      return [...state].filter(r => r.id !== action.object)\r\n    case 'UPDATE_RECIPE':\r\n      return [...state].map(r =>\r\n        r.id === action.object.id ? action.object : r\r\n      ) */\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const createRecipe = (imageData) => {\r\n  return async dispatch => {\r\n    const uploadImage = async () => {\r\n      const data = new FormData()\r\n      data.append('file', imageData)\r\n      data.append('upload_preset', 'recipetPreset')\r\n      const res = await fetch(\r\n        '\thttps://api.cloudinary.com/v1_1/recipet/image/upload',\r\n        {\r\n          method: 'POST',\r\n          body: data\r\n        }\r\n      )\r\n      const file = await res.json()\r\n      return file.secure_url\r\n    }\r\n    try {\r\n      const src = await uploadImage()\r\n      if (src) {\r\n        const dataToServer = {\r\n          src,\r\n          thumbnail: src,\r\n          thumbnailWidth: 258,\r\n          thumbnailHeight: 258,\r\n          caption: imageData.name,\r\n          thumbnailCaption: imageData.name \r\n        }\r\n        const data = await recipeService.create(dataToServer)\r\n        dispatch({\r\n          type: 'CREATE_RECIPE',\r\n          data\r\n        })\r\n      }\r\n    } catch (error) {\r\n        console.log(error.message)\r\n        /*       dispatch(\r\n                setNotification({\r\n                  message: error.message\r\n                })\r\n              ) */\r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport const initRecipes = () => {\r\n  return async dispatch => {\r\n    try {\r\n      const data = await recipeService.getAll()\r\n      dispatch({\r\n        type: 'INIT_RECIPES',\r\n        data\r\n      })\r\n    } catch (error) {\r\n      console.log(error.message)\r\n/*       dispatch(\r\n        setNotification({\r\n          message: error.message\r\n        })\r\n      ) */\r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport default reducer","import React, { useState }  from 'react'\r\nimport { useDropzone } from 'react-dropzone'\r\nimport './Upload.css'\r\nimport { createRecipe } from '../../reducers/recipeReducer'\r\nimport { useDispatch } from 'react-redux'\r\n\r\nfunction DragnDrop() {\r\n  const dispatch = useDispatch()\r\n  const [files, setFiles] = useState([])\r\n\r\n  const { getRootProps, getInputProps } = useDropzone({\r\n    accept: \"image/*\",\r\n    onDrop: (acceptedFiles) => {\r\n      setFiles(\r\n        acceptedFiles.map((file) =>\r\n          Object.assign(file, {\r\n            src: URL.createObjectURL(file),\r\n          })\r\n        )\r\n      )\r\n    },\r\n  })\r\n\r\n  if (files.length > 0) {\r\n    for (let i = 0; i < files.length; i++) {\r\n      dispatch(createRecipe(files[i]))\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div {...getRootProps({className: 'dropzone'})}>\r\n        <input {...getInputProps()} />\r\n        <p id=\"drag-text\">Drag 'n' drop some files here, or click to select files</p>\r\n      </div>\r\n      </div>\r\n  );\r\n}\r\n\r\nexport default DragnDrop","import React from 'react'\r\nimport Heading2 from '../Heading'\r\nimport LogOutLinkButton from './LogOutLinkButton'\r\nimport './Upload.css'\r\nimport DragnDrop from './DragnDrop'\r\n\r\nconst Upload = () => {\r\n\r\n  return (\r\n    <div> \r\n      <div className=\"top-block\">\r\n        <Heading2 to=\"/\" />\r\n        <LogOutLinkButton id=\"log-out-button\" text=\"Log Out\" to=\"/\"/>\r\n      </div>\r\n      <DragnDrop/>\r\n    </div>\r\n   \r\n  )\r\n}\r\n\r\nexport default Upload\r\n","import React from 'react'\r\nimport { Heading3 } from '../Heading'\r\nimport LinkButton from '../LinkButton'\r\nimport Button from '../Button'\r\nimport Heading2 from '../Heading'\r\nimport '../TopBlock.css'\r\nimport { logOut } from '../../reducers/userReducer'\r\nimport { useDispatch } from 'react-redux'\r\n\r\n\r\n\r\nconst AboutTopBlock = (props) => {\r\n  const dispatch = useDispatch()\r\n  const handleLogout = () => {\r\n    dispatch(logOut())\r\n  }\r\n\r\n  return (\r\n    <div className=\"top-block\">\r\n      <Heading2 to=\"/\"/>\r\n      <Heading3/>\r\n      {props.user ? \r\n        <Button id=\"log-out-button\" text=\"Log Out\" handleClick={handleLogout}/> :\r\n        <LinkButton id=\"log-out-button\" text=\"Log In\" to=\"/\"/>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AboutTopBlock\r\n","import userService from '../services/userService'\r\n\r\nconst reducer = (state = null, action) => {\r\n  switch (action.type) {\r\n    case 'INIT_USERS':\r\n      return action.users\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const initUsers = () => {\r\n  return async dispatch => {\r\n    const users = await userService.getAll()\r\n      dispatch({\r\n        type: 'INIT_USERS',\r\n        users\r\n      })\r\n    \r\n  }\r\n}\r\n\r\nexport default reducer","import React, { useEffect } from 'react'\nimport './App.css'\n\nimport {\n  BrowserRouter as Router,\n  Switch, Route, Redirect\n} from \"react-router-dom\"\n\nimport LogInBlock from './components//LogInPage/LogInBlock'\nimport SignUpBlock from './components//SignUpPage/SignUpBlock'\nimport Recipes from './components//HomePage/Recipes'\nimport LoggedInBlock from './components//HomePage/LoggedInBlock'\nimport About from './components//AboutPage/About'\nimport Footer from './components/Footer'\nimport HomeTopBlock from './components//HomePage/HomeTopBlock'\nimport Upload from './components//UploadPage/Upload'\nimport AboutTopBlock from './components//AboutPage/AboutTopBlock'\n\nimport { useDispatch, useSelector } from 'react-redux'\nimport { initRecipes} from './reducers/recipeReducer'\nimport { initUser} from './reducers/userReducer'\nimport { initUsers} from './reducers/usersReducer'\n\nconst App = () => {\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    dispatch(initRecipes())\n    dispatch(initUser())\n    dispatch(initUsers())\n  }, [dispatch])\n\n  const recipes = useSelector(state => state.recipes)\n  const user = useSelector(state => state.user)\n  const users = useSelector(state => state.users)\n  const signUpUser = useSelector(state => state.signUpUser)\n\n  const HomePage = () => {\n    const usersRecipes = recipes.filter(r => r.user.username === user.username)\n    const search = useSelector(state => state.filter)\n    const searchedRecipes = usersRecipes.filter(r => r.thumbnailCaption.toLowerCase().indexOf(search.toLowerCase()) > -1)\n    return (\n      <div>\n        <HomeTopBlock />\n        <LoggedInBlock user={user} users={users}/>\n        <Recipes recipes={searchedRecipes}/>\n        <Footer/>\n      </div>\n    )\n  }\n\n  const LogInPage = () => {\n    return (\n      <div>\n        <LogInBlock/>\n        <Footer/>\n      </div>\n    )\n  }\n\n  const SignUpPage = () => {\n    return (\n      <div>\n        <SignUpBlock/>\n        <Footer/>\n      </div>\n    )\n  }\n\n  const UploadPage = () => {\n    return (\n      <div>\n        <Upload user={user} />\n        <Footer/>\n      </div>\n    )\n  }\n\n  const AboutPage = () => {\n    return (\n      <div>\n        <AboutTopBlock user={user}/>\n        <About/>\n        <Footer/>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"page-container\">\n      <div className=\"content-wrap\">\n          <Router>\n            <Switch>\n\n              <Route path=\"/login\">\n                <LogInPage/>\n              </Route>\n\n              <Route path=\"/signup\">\n                {signUpUser ? <Redirect to=\"/\"/> : <SignUpPage/>}\n              </Route>\n\n              <Route path=\"/upload\">\n                <UploadPage/>\n              </Route> \n\n              <Route path=\"/about\">\n                <AboutPage />\n              </Route>\n\n              <Route path=\"/\">\n                {user === null ?\n                  <LogInPage/> :\n                  <HomePage/>\n                }\n              </Route>\n\n            </Switch>\n          </Router>\n        </div>\n    </div>\n  )\n}\n\nexport default App\n","import { createStore, combineReducers, applyMiddleware } from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\n\r\nimport recipeReducer from './reducers/recipeReducer'\r\nimport userReducer from './reducers/userReducer'\r\nimport usersReducer from './reducers/usersReducer'\r\nimport filterReducer from './reducers/filterReducer'\r\nimport signUpReducer from './reducers/signUpReducer'\r\n\r\nconst reducer = combineReducers({\r\n  recipes: recipeReducer,\r\n  user: userReducer,\r\n  users: usersReducer,\r\n  filter: filterReducer,\r\n  signUpUser: signUpReducer\r\n})\r\n\r\nconst store = createStore(\r\n  reducer,\r\n  composeWithDevTools(\r\n    applyMiddleware(thunk)\r\n  )\r\n)\r\n\r\nexport default store","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { Provider } from 'react-redux'\nimport store from './store'\n\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n)"],"sourceRoot":""}