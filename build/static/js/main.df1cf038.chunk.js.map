{"version":3,"sources":["reducers/notificationReducer.js","components/Heading.js","components/LinkButton.js","components/UserForm.js","services/userService.js","reducers/signUpReducer.js","components/LogInPage/SignUpLink.js","services/recipeService.js","services/login.js","reducers/userReducer.js","components/LogInPage/LogInBlock.js","components/SignUpPage/SignUpBlock.js","reducers/usersReducer.js","reducers/recipeReducer.js","components/HomePage/ModifyOptions.js","components/HomePage/Recipes.js","components/HomePage/LoggedInUser.js","components/HomePage/LoggedInBlock.js","components/AboutPage/About.js","components/Footer.js","reducers/filterReducer.js","components/HomePage/Filter.js","components/Button.js","components/HomePage/HomeTopBlock.js","components/UploadPage/LogOutLinkButton.js","components/UploadPage/DragnDrop.js","components/UploadPage/ClipboardDrop.js","components/UploadPage/Upload.js","components/AboutPage/AboutTopBlock.js","components/Notification.js","App.js","store.js","index.js"],"names":["timeoutId","Heading","className","Heading3","H1LinkHead","withRouter","props","history","to","onClick","event","push","id","text","type","UserForm","handleSubmit","handleUsernameChange","handlePasswordChange","username","password","buttonText","namePlaceholder","passwordPlaceHolder","onSubmit","placeholder","value","onChange","getUsers","a","axios","get","req","data","getAll","then","res","signUp","newUser","post","signUpUser","signUpData","dispatch","userService","createdUser","console","log","reducer","state","action","SignUpLink","useDispatch","token","create","newObject","config","headers","Authorization","update","put","setToken","newToken","nullToken","remove","delete","login","credentials","setNotification","content","time","clearTimeout","setTimeout","logInUser","loginData","user","window","localStorage","setItem","JSON","stringify","recipeService","logOut","removeItem","loggedUser","LogInBlock","useState","setUsername","setPassword","handleLogin","preventDefault","error","target","SignUpBlock","handleSignUp","length","Error","message","initUsers","users","removeRecipe","name","updateRecipe","recipe","oldName","createRecipe","imageData","uploadImage","FormData","append","fetch","method","body","json","file","secure_url","thumbnailCaption","src","dataToServer","thumbnail","thumbnailWidth","thumbnailHeight","caption","filter","r","map","ModifyOptions","setName","handleDelete","newRecipe","handleRenaming","Recipes","recipes","renderModifyOptions","selectedImg","onSelectImage","bind","index","newModRenderState","this","slice","img","hasOwnProperty","isSelected","setState","backdropClosesModal","images","showImageCount","React","Component","connect","LoggedInUser","usersRecipeCount","LoggedInBlock","useri","find","u","getUsersRecipeCount","About","Footer","Date","getFullYear","Filter","Button","handleClick","TopBlock","DragnDrop","files","setFiles","useDropzone","accept","onDrop","acceptedFiles","Object","assign","URL","createObjectURL","getRootProps","getInputProps","i","ClipboardDrop","setFile","fileName","setFileName","onPaste","items","clipboardData","originalEvent","blob","item","indexOf","getAsFile","reader","FileReader","onload","evt","result","readAsDataURL","Upload","AboutTopBlock","Notification","notification","App","useEffect","parse","getItem","useSelector","HomePage","usersRecipes","search","searchedRecipes","toLowerCase","HomeTopBlock","LogInPage","SignUpPage","UploadPage","AboutPage","path","combineReducers","recipeReducer","userReducer","usersReducer","filterReducer","signUpReducer","notificationReducer","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.df1cf038.chunk.js","sourcesContent":["const reducer = (state = null, action) => {\r\n  switch (action.type) {\r\n    case 'SET_NOTIFICATION':\r\n      return action.content\r\n    case 'CLEAR_NOTIFICATION':\r\n      return null\r\n    default: \r\n      return state\r\n  }\r\n}\r\n\r\nlet timeoutId \r\n\r\nexport const setNotification = (content, time) => {\r\n  return async dispatch => {\r\n    dispatch({\r\n      type: 'SET_NOTIFICATION',\r\n      content\r\n    })\r\n\r\n    if (timeoutId) {\r\n      clearTimeout(timeoutId)\r\n    }\r\n\r\n    timeoutId = setTimeout(() => {\r\n      dispatch({\r\n        type: 'CLEAR_NOTIFICATION'\r\n      })\r\n    }, time * 1000)\r\n  }\r\n}\r\n\r\nexport const clearNotification = (id) => (\r\n  { type: 'CLEAR_NOTIFICATION' }\r\n)\r\n\r\nexport default reducer","import React from 'react'\r\nimport '../index.css'\r\nimport { withRouter } from 'react-router'\r\n\r\nexport const Heading = () => {\r\n  return (\r\n      <h1 className=\"h1-heading\">Recipet</h1>\r\n  )\r\n}\r\n\r\nconst LinkHeading = (props) => {\r\n  const {\r\n    history,\r\n    to,\r\n    onClick,\r\n  } = props\r\n  return (\r\n    <h1 className=\"h1-heading\"\r\n    onClick={(event) => {\r\n        onClick && onClick(event)\r\n        history.push(to)\r\n      }}\r\n    >Recipet</h1>\r\n  )\r\n}\r\n\r\nconst Heading2 = (props) => {\r\n  const {\r\n    history,\r\n    to,\r\n    onClick,\r\n  } = props\r\n  return (\r\n    <h2 className=\"h2-heading\"\r\n    onClick={(event) => {\r\n        onClick && onClick(event)\r\n        history.push(to)\r\n      }}\r\n    >Recipet</h2>\r\n  )\r\n}\r\n\r\nexport const Heading3 = () => {\r\n  return (\r\n    <h2 className=\"h3-heading\">About</h2>\r\n  )\r\n}\r\nexport const H1LinkHead = withRouter(LinkHeading)\r\nexport default withRouter(Heading2)\r\n","import React from 'react'\r\nimport { withRouter } from 'react-router'\r\nimport '../index.css'\r\n\r\nconst LinkButton = (props) => {\r\n  const {\r\n    history,\r\n    to,\r\n    onClick,\r\n    id,\r\n    className,\r\n    text,\r\n    type,\r\n  } = props\r\n  return (\r\n    <button\r\n    type={type}\r\n    id={id} className={className}\r\n    onClick={(event) => {\r\n        onClick && onClick(event)\r\n        history.push(to)\r\n      }}\r\n    >\r\n      {text}\r\n    </button>\r\n  )\r\n}\r\n\r\nexport default withRouter(LinkButton)","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport LinkButton from './LinkButton'\r\nimport '../index.css'\r\n\r\nconst UserForm = ({\r\n  handleSubmit,\r\n  handleUsernameChange,\r\n  handlePasswordChange,\r\n  username,\r\n  password,\r\n  buttonText,\r\n  namePlaceholder,\r\n  passwordPlaceHolder\r\n}) => {\r\n  return (\r\n      <form onSubmit={handleSubmit}>\r\n          <div >\r\n            <input\r\n            placeholder={namePlaceholder}\r\n            className=\"grey-input\"\r\n            id=\"username\"\r\n              value={username}\r\n              onChange={handleUsernameChange}\r\n            />\r\n          </div>\r\n          <div>\r\n            <input\r\n              placeholder={passwordPlaceHolder}\r\n              className=\"grey-input\"\r\n              id=\"password\"\r\n              type=\"password\"\r\n              value={password}\r\n              onChange={handlePasswordChange}\r\n            />\r\n          </div>\r\n        <LinkButton id=\"login-button\" text={buttonText} className=\"blue-box-button\"  type=\"submit\"/>\r\n      </form>\r\n  )\r\n}\r\n\r\nUserForm.propTypes = {\r\n  handleSubmit: PropTypes.func.isRequired,\r\n  handleUsernameChange: PropTypes.func.isRequired,\r\n  handlePasswordChange: PropTypes.func.isRequired,\r\n  username: PropTypes.string.isRequired,\r\n  password: PropTypes.string.isRequired\r\n}\r\n\r\nexport default UserForm","import axios from 'axios'\r\nconst baseUrl = '/api/users'\r\n\r\nconst getAll = () => {\r\n  const req = axios.get(baseUrl)\r\n  return req.then(res => res.data)\r\n}\r\n\r\nconst getUsers = async (id) => {\r\n  const req = await axios.get(`${baseUrl}/${id}`)\r\n  return req.data\r\n}\r\n\r\nconst signUp = async (newUser) => {\r\n  const res = await axios.post(baseUrl, newUser)\r\n  return res.data\r\n}\r\n\r\nexport default { getUsers, getAll, signUp }","import userService from '../services/userService'\r\n\r\nconst reducer = (state = null, action) => {\r\n  switch (action.type) {\r\n    case 'SIGNUP_USER':\r\n      return action.createdUser\r\n    case 'NULL_SIGN_UP_USER':\r\n      return null\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const signUpUser = (signUpData) => {\r\n  return async dispatch => {\r\n    try {\r\n      const createdUser = await userService.signUp(signUpData)\r\n      dispatch({\r\n        type: 'SIGNUP_USER',\r\n        createdUser\r\n      })\r\n/*       dispatch(\r\n        setNotification({\r\n          message: `user: ${createdUser.username} signed Up successfully`\r\n        })\r\n      ) */\r\n    } catch (error) {\r\n      console.log(error);\r\n/*       dispatch(\r\n        setNotification({\r\n          message: 'ValidationError'\r\n        })\r\n      ) */\r\n    }\r\n  }\r\n\r\n}\r\n\r\nexport const nullSignUpUser = () => {\r\n  return {\r\n    type: 'NULL_SIGN_UP_USER',\r\n  }\r\n}\r\n\r\nexport default reducer","import React from 'react' \r\nimport '../../index.css'\r\nimport LinkButton from '../LinkButton'\r\nimport { nullSignUpUser } from '../../reducers/signUpReducer'\r\nimport { useDispatch } from 'react-redux'\r\n\r\nconst SignUpLink = () => {\r\n  const dispatch = useDispatch()\r\n  const handleClick = () => {\r\n    dispatch(nullSignUpUser())\r\n  }\r\n  return (\r\n       <p className=\"black-text\">Don't have an account?\r\n        <LinkButton className=\"blue-text-button\" onClick={handleClick} text=\"Sign up\" to=\"/signup\"/>\r\n      </p>\r\n   \r\n  )\r\n}\r\n\r\nexport default SignUpLink","import axios from 'axios'\r\nconst baseUrl = '/api/recipes'\r\n\r\nlet token = null\r\n\r\nconst setToken = newToken => {\r\n  token = `bearer ${newToken}`\r\n}\r\n\r\nconst nullToken = () => {\r\n  token = null\r\n}\r\n\r\nconst getAll = () => {\r\n  const req = axios.get(baseUrl)\r\n  return req.then(res => res.data)\r\n}\r\n\r\nconst create = async newObject => {\r\n  const config = {\r\n    headers: { Authorization: token },\r\n  }\r\n\r\n  const res = await axios.post(baseUrl, newObject, config)\r\n  return res.data\r\n}\r\n\r\nconst update = async (newObject) => {\r\n  const config = {\r\n    headers: { Authorization: token },\r\n  }\r\n\r\n  const res = await axios.put(`${baseUrl}/${newObject.id}`, newObject, config)\r\n  return res.data\r\n}\r\n\r\nconst remove = async (id) => {\r\n  const config = {\r\n    headers: { Authorization: token },\r\n  }\r\n  const res = axios.delete(`${baseUrl}/${id}`, config)\r\n  return res.data\r\n}\r\n\r\nexport default { getAll, create, update, setToken, nullToken, remove }","import axios from 'axios'\r\nconst baseUrl = '/api/login'\r\n\r\nconst login = async (credentials) => {\r\n  const res = await axios.post(baseUrl, credentials)\r\n  return res.data\r\n}\r\n\r\nexport default { login }","import recipeService from '../services/recipeService'\r\nimport login from '../services/login' \r\nimport { setNotification } from './notificationReducer'\r\n\r\nconst reducer = (state = null, action) => {\r\n  switch (action.type) {\r\n    case 'INIT_USER':\r\n      return action.loggedUser\r\n    case 'LOGIN_USER':\r\n      return { ...action.user }\r\n    case 'LOGOUT_USER':\r\n      return null\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const initUser = () => {\r\n  return async dispatch => {\r\n    const loggedUser = JSON.parse(window.localStorage.getItem('loggedRecipetUser'))\r\n    if (loggedUser) {\r\n      recipeService.setToken(loggedUser.token)\r\n      dispatch({\r\n        type: 'INIT_USER',\r\n        loggedUser\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\nexport const logInUser = loginData => {\r\n  return async dispatch => {\r\n    try {\r\n      const user = await login.login(loginData)\r\n      window.localStorage.setItem('loggedRecipetUser', JSON.stringify(user))\r\n      recipeService.setToken(user.token)\r\n      dispatch(\r\n        setNotification(\r\n          `User ${user.username} signed in successfully`, 5)\r\n      )\r\n      dispatch({\r\n        type: 'LOGIN_USER',\r\n        user\r\n      })\r\n    } catch (error) {\r\n      dispatch(\r\n        setNotification('Invalid username or password', 5)\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nexport const logOut = () => {\r\n  return async dispatch => {\r\n    window.localStorage.removeItem('loggedRecipetUser')\r\n    recipeService.nullToken()\r\n    dispatch({ type: 'LOGOUT_USER' })\r\n  }\r\n}\r\nexport default reducer","import React, { useState } from 'react'\r\nimport { Heading } from '../Heading'\r\nimport UserForm from '../UserForm'\r\nimport SignUpLink from './SignUpLink'\r\nimport { logInUser } from '../../reducers/userReducer'\r\nimport { nullSignUpUser } from '../../reducers/signUpReducer'\r\nimport { useDispatch } from 'react-redux'\r\nimport '../../index.css'\r\n\r\nconst LogInBlock = () => {\r\n  const dispatch = useDispatch()\r\n  const [username, setUsername] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  \r\n  const handleLogin = async (event) => {\r\n    event.preventDefault()\r\n    try {\r\n      dispatch(nullSignUpUser())\r\n      dispatch(logInUser({username, password}))\r\n      setUsername('')\r\n      setPassword('')\r\n    } catch (error) {\r\n    }\r\n  }\r\n\r\n  return (\r\n      <div className=\"container-1\">\r\n      <Heading/>\r\n      <UserForm\r\n        username={username}\r\n        password={password}\r\n        handleUsernameChange={({ target }) => setUsername(target.value)}\r\n        handlePasswordChange={({ target }) => setPassword(target.value)}\r\n        handleSubmit={handleLogin}\r\n        buttonText=\"Log In\"\r\n        namePlaceholder = \"Username\"\r\n        passwordPlaceHolder = \"Password\"\r\n      />\r\n      <SignUpLink/>\r\n    </div>\r\n    \r\n  )\r\n}\r\n\r\nexport default LogInBlock","import React, { useState } from 'react'\r\nimport { H1LinkHead } from '../Heading'\r\nimport UserForm from '../UserForm'\r\nimport '../../index.css'\r\nimport { signUpUser } from '../../reducers/signUpReducer'\r\nimport { useDispatch } from 'react-redux'\r\nimport { setNotification } from '../../reducers/notificationReducer'\r\n\r\nconst SignUpBlock = () => {\r\n  const dispatch = useDispatch()\r\n  const [username, setUsername] = useState('')\r\n  const [password, setPassword] = useState('')\r\n\r\n  const handleSignUp = async (event) => {\r\n    event.preventDefault()\r\n    try {\r\n      if (password.length < 3) {\r\n        throw new Error(\"Password's minimum length is 3\")\r\n      }\r\n      if (username.length < 3) {\r\n        throw new Error(\"Username's minimum length is 3\")\r\n      }\r\n      dispatch(signUpUser({username, password}))\r\n      setUsername('')\r\n      setPassword('')\r\n    } catch (error) {\r\n        dispatch(setNotification(error.message, 5))\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"container-1\">\r\n      <H1LinkHead  to=\"/\"/>\r\n      <UserForm\r\n        username={username}\r\n        password={password}\r\n        handleUsernameChange={({ target }) => setUsername(target.value)}\r\n        handlePasswordChange={({ target }) => setPassword(target.value)}\r\n        handleSubmit={handleSignUp}\r\n        buttonText=\"Sign Up\"\r\n        to=\"/\"\r\n        namePlaceholder = \"Username (min. length 3)\"\r\n        passwordPlaceHolder = \"Password (min. length 3)\"\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SignUpBlock","import userService from '../services/userService'\r\n\r\nconst reducer = (state = null, action) => {\r\n  switch (action.type) {\r\n    case 'INIT_USERS':\r\n      return action.users\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const initUsers = () => {\r\n  return async dispatch => {\r\n    const users = await userService.getAll()\r\n      dispatch({\r\n        type: 'INIT_USERS',\r\n        users\r\n      })\r\n    \r\n  }\r\n}\r\n\r\nexport default reducer","import recipeService from '../services/recipeService'\r\nimport { setNotification } from './notificationReducer'\r\nimport { initUsers } from './usersReducer'\r\n\r\nconst reducer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case 'INIT_RECIPES':\r\n      return [...action.data]\r\n    case 'CREATE_RECIPE':\r\n      return [...state, action.data]\r\n    case 'REMOVE_RECIPE':\r\n      return [...state].filter(r => r.id !== action.data)\r\n    case 'UPDATE_RECIPE':\r\n      return [...state].map(r =>\r\n        r.id === action.data.id ? action.data : r\r\n      )\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const removeRecipe = (id, name) => {\r\n  return async dispatch => {\r\n    try {\r\n      await recipeService.remove(id)\r\n\r\n      dispatch({\r\n        type: 'REMOVE_RECIPE',\r\n        data: id\r\n      })\r\n\r\n      dispatch(setNotification(`${name} removed`, 5))\r\n\r\n    } catch (error) {\r\n      dispatch(setNotification(error.message, 5))\r\n    }\r\n  }\r\n}\r\n\r\nexport const updateRecipe = (recipe, oldName) => {\r\n  return async dispatch => {\r\n    try {\r\n\r\n      const data = await recipeService.update(recipe)\r\n      dispatch({\r\n        type: \"UPDATE_RECIPE\",\r\n        data\r\n      })\r\n\r\n      dispatch(setNotification(`${oldName}'s name changed`, 5))\r\n\r\n    } catch (error) {\r\n      dispatch(setNotification(error.message, 5))\r\n    }\r\n  }\r\n}\r\n\r\nexport const createRecipe = (imageData, name = null) => {\r\n  return async dispatch => {\r\n\r\n    const uploadImage = async () => {\r\n      const data = new FormData()\r\n      data.append('file', imageData)\r\n      data.append('upload_preset', 'recipetPreset')\r\n      const res = await fetch(\r\n        '\thttps://api.cloudinary.com/v1_1/recipet/image/upload',\r\n        {\r\n          method: 'POST',\r\n          body: data\r\n        }\r\n      )\r\n      const file = await res.json()\r\n      return file.secure_url\r\n    }\r\n\r\n    try {\r\n\r\n      let thumbnailCaption\r\n\r\n      if (name) {\r\n        thumbnailCaption = name\r\n      } else {\r\n        thumbnailCaption = imageData.name\r\n      }\r\n\r\n      const src = await uploadImage()\r\n\r\n      if (src && thumbnailCaption) {\r\n        const dataToServer = {\r\n          src,\r\n          thumbnail: src,\r\n          thumbnailWidth: 258,\r\n          thumbnailHeight: 258,\r\n          caption: thumbnailCaption,\r\n          thumbnailCaption\r\n        }\r\n        \r\n        const data = await recipeService.create(dataToServer)\r\n        dispatch({\r\n          type: 'CREATE_RECIPE',\r\n          data\r\n        })\r\n        dispatch(initUsers())\r\n        dispatch(setNotification(`Recipe '${data.thumbnailCaption}' added!`, 5))\r\n      }\r\n    } catch (error) {\r\n      dispatch(setNotification(error.message, 5))\r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport const initRecipes = () => {\r\n  return async dispatch => {\r\n    try {\r\n      const data = await recipeService.getAll()\r\n      dispatch({\r\n        type: 'INIT_RECIPES',\r\n        data\r\n      })\r\n    } catch (error) {\r\n      dispatch(setNotification(error.message, 5))\r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport default reducer","import React, { useState, } from 'react'\r\nimport '../../index.css'\r\nimport { useDispatch } from 'react-redux'\r\nimport { updateRecipe, removeRecipe } from '../../reducers/recipeReducer'\r\n\r\n\r\nconst ModifyOptions = ({ recipe }) => {\r\n  const dispatch = useDispatch()\r\n  const [name, setName] = useState('')\r\n\r\n  const handleRenaming = (recipe) => {\r\n    const newRecipe = { ...recipe, thumbnailCaption: name, caption: name}\r\n    dispatch(updateRecipe(newRecipe, recipe.thumbnailCaption))\r\n  }\r\n\r\n  const handleDelete = (id, name) => {\r\n    dispatch(removeRecipe(id, name))\r\n  }\r\n\r\n  return (\r\n    <div className=\"container-5\">\r\n      <button id=\"delete-button\" onClick={() => handleDelete(recipe.id, recipe.thumbnailCaption)}>Delete</button>\r\n        <input\r\n          className=\"white-input\"\r\n          placeholder=\"Filename\"\r\n          value={name}\r\n          onChange={({ target }) => setName(target.value)}\r\n        />\r\n        <button onClick={() => handleRenaming(recipe)} id=\"rename-button\">Rename</button>\r\n    </div>\r\n    )\r\n} \r\n\r\nexport default ModifyOptions","import React from 'react'\r\nimport Gallery from 'react-grid-gallery';\r\nimport { connect } from 'react-redux'\r\nimport { updateRecipe, removeRecipe } from '../../reducers/recipeReducer'\r\nimport ModifyOptions from './ModifyOptions'\r\n\r\nclass Recipes extends React.Component {\r\n\r\n  constructor(props){\r\n    super(props);\r\n\r\n    this.state = {\r\n      recipes: this.props.recipes,\r\n      renderModifyOptions: false,\r\n      selectedImg: {}\r\n    };\r\n\r\n    this.onSelectImage = this.onSelectImage.bind(this);\r\n\r\n  }\r\n\r\n  onSelectImage (index) {\r\n    let newModRenderState\r\n    let recipes = this.state.recipes.slice();\r\n    let img = recipes[index];\r\n    if (img.hasOwnProperty(\"isSelected\"))\r\n      img.isSelected = !img.isSelected;\r\n    else\r\n      img.isSelected = true;\r\n\r\n    if (this.state.renderModifyOptions) \r\n      newModRenderState = false\r\n    else \r\n      newModRenderState = true\r\n    this.setState({\r\n      recipes: recipes,\r\n      renderModifyOptions: newModRenderState,\r\n      selectedImg: img\r\n    });\r\n  }\r\n\r\n  render () {\r\n\r\n    if (!this.state.renderModifyOptions) {\r\n      return (\r\n        <div>\r\n          <Gallery backdropClosesModal={true} onSelectImage={this.onSelectImage} images={ this.props.recipes } showImageCount={false}/>\r\n        </div>\r\n      )\r\n    } else {\r\n      return (\r\n        <div>\r\n          <ModifyOptions recipe={this.state.selectedImg}/>\r\n          <Gallery backdropClosesModal={true} onSelectImage={this.onSelectImage} images={ this.props.recipes } showImageCount={false}/>\r\n        </div>\r\n      )\r\n    }\r\n}\r\n\r\n}\r\n\r\nconst mapDispatchToProps = () => {\r\n  return {\r\n    updateRecipe, removeRecipe\r\n\r\n  };\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  recipes: state.recipes\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps()\r\n)(Recipes);","import React from 'react'\r\nimport '../../index.css'\r\n\r\nconst LoggedInUser = (props) => {\r\n\r\n  return (\r\n    <div className=\"logged-in-user\">\r\n      <h3 id=\"h3-heading\">{props.user.username}</h3>\r\n      <p id=\"hasRecipes\">{props.usersRecipeCount} recipes</p>\r\n    </div>\r\n    \r\n  )\r\n}\r\n\r\nexport default LoggedInUser","import React from 'react'\r\nimport '../../index.css'\r\nimport LoggedInUser from './LoggedInUser'\r\nimport LinkButton from '../LinkButton'\r\n\r\n\r\nconst LoggedInBlock = (props) => {\r\n\r\n  const getUsersRecipeCount = () => {\r\n    if (props.users) {\r\n      const useri = props.users.find(u => u.username === props.user.username)\r\n      if (useri) \r\n        return useri.recipes.length\r\n    } else {\r\n      return null\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"container-3\">\r\n      <LoggedInUser user={props.user} usersRecipeCount={getUsersRecipeCount()}/>\r\n      <div className=\"invisible-item\"></div>\r\n      <LinkButton id=\"upload-button\" text=\"Upload Recipe\" to=\"/upload\"/>\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default LoggedInBlock","import React from 'react'\r\nimport '../../index.css'\r\n\r\n\r\nconst About = () => {\r\n  return (\r\n    <div className=\"container-3\">\r\n      <article>\r\n        <p>\r\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum quis vestibulum tortor. Sed imperdiet dapibus elementum. Ut mauris ante, ultricies sit amet diam et, ullamcorper tristique nisl. Duis pretium consequat sagittis. Nam ultrices facilisis enim, eu ultricies massa feugiat vel. Sed quis gravida orci, eget ultricies sapien. Nullam eleifend erat ut magna ultrices interdum. Curabitur ac lacus quis dui vestibulum scelerisque. In porttitor rutrum hendrerit. Etiam ut ipsum felis. Vestibulum molestie neque in suscipit finibus. Aenean tincidunt lectus enim, ut varius est mollis a. Etiam dignissim mauris eget sapien pellentesque ultrices nec vitae nisl. Aenean sollicitudin sagittis purus, eu rutrum sapien tristique eget. In quis nunc aliquam, facilisis enim congue, gravida ex. In ipsum tortor, blandit ut facilisis ut, accumsan quis ex. Sed sagittis nisi sed justo fringilla, eleifend varius tellus ornare. Fusce iaculis dui dui, at lacinia lectus molestie sed. Sed viverra vitae risus eu congue. Nulla maximus, arcu id vehicula finibus, nisl sem gravida arcu, nec iaculis nisi nisl nec augue. Aliquam efficitur tortor tincidunt, auctor orci sed, ullamcorper massa. Maecenas non enim leo. Nunc malesuada sagittis pretium. Integer et convallis ante. Etiam pretium justo non nisi egestas pellentesque. Ut faucibus nisi quis est ornare porttitor. Fusce consequat eros et sem pharetra, vitae accumsan ipsum dignissim. Etiam eros felis, sollicitudin vel blandit eget, consectetur in felis. Mauris semper nibh eu nunc posuere, non consectetur elit varius. Sed quam tellus, vulputate a venenatis pretium, consequat vel orci. \r\n        </p>\r\n      </article>\r\n      </div>\r\n\r\n  )\r\n}\r\n\r\nexport default About","import React from 'react'\r\nimport '../index.css'\r\nimport LinkButton from './LinkButton'\r\n\r\nconst Footer = () => {\r\n\r\n  return (\r\n          <p className=\"footer\">\r\n            {new Date().getFullYear()} Recipet | Full Stack Open -harjoitustyö |\r\n            <LinkButton className=\"blue-text-button\" text=\"About\" to=\"/about\"/>\r\n          </p>\r\n  )\r\n}\r\n\r\nexport default Footer\r\n","const initialState = ''\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case 'SEARCH':\r\n      return action.data\r\n    default: return state\r\n  }\r\n}\r\n\r\nexport const search = (searchCondition) => {\r\n  return {\r\n    type: 'SEARCH',\r\n    data: searchCondition\r\n  }\r\n}\r\n\r\nexport default reducer","import React from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { search } from '../../reducers/filterReducer'\r\nimport '../../index.css'\r\n\r\n\r\nconst Filter = () => {\r\n  const dispatch = useDispatch()\r\n  const handleChange = (event) => {\r\n    dispatch(search(event.target.value))\r\n  }\r\n\r\n  return (\r\n      <input\r\n        className=\"search-input\"\r\n        onChange={handleChange}\r\n        placeholder=\"Search\"\r\n      />\r\n  )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\nimport '../index.css'\r\n\r\nconst Button = (props) => {\r\n  return (\r\n    <button onClick={props.handleClick}\r\n      id={props.id}\r\n      className={props.className}>\r\n      {props.text}\r\n    </button>\r\n  )\r\n}\r\n\r\nexport default Button","import React from 'react'\r\nimport Heading2 from '../Heading'\r\nimport Filter from './Filter'\r\nimport Button from '../Button'\r\nimport '../../index.css'\r\nimport { logOut } from '../../reducers/userReducer'\r\nimport { useDispatch } from 'react-redux'\r\n\r\nconst TopBlock = () => {\r\n\r\n  const dispatch = useDispatch()\r\n  const handleLogout = () => {\r\n    dispatch(logOut())\r\n  }\r\n\r\nreturn (\r\n  <div className=\"container-2\">\r\n    <Heading2 to=\"/\" />\r\n    <Filter/>\r\n    <Button id=\"button-log-out\" text=\"Log Out\" handleClick={handleLogout}/>\r\n  </div>\r\n)\r\n}\r\n\r\nexport default TopBlock","import React from 'react'\r\nimport { withRouter } from 'react-router'\r\nimport '../../index.css'\r\nimport { logOut } from '../../reducers/userReducer'\r\nimport { useDispatch } from 'react-redux'\r\n\r\nconst LogOutLinkButton = (props) => {\r\n  const {\r\n    history,\r\n    to,\r\n    id,\r\n    className,\r\n    text,\r\n    type,\r\n  } = props\r\n  const dispatch = useDispatch()\r\n  const onClick = () => {\r\n    dispatch(logOut())\r\n  }\r\n  return (\r\n    <button\r\n    type={type}\r\n    id={id} className={className}\r\n    onClick={(event) => {\r\n        onClick && onClick(event)\r\n        history.push(to)\r\n      }}\r\n    >\r\n      {text}\r\n    </button>\r\n  )\r\n}\r\n\r\nexport default withRouter(LogOutLinkButton)","import React, { useState }  from 'react'\r\nimport { useDropzone } from 'react-dropzone'\r\nimport '../../index.css'\r\nimport { createRecipe } from '../../reducers/recipeReducer'\r\nimport { useDispatch } from 'react-redux'\r\n\r\nfunction DragnDrop() {\r\n  const dispatch = useDispatch()\r\n  const [files, setFiles] = useState([])\r\n\r\n  const { getRootProps, getInputProps } = useDropzone({\r\n    accept: \"image/*\",\r\n    onDrop: (acceptedFiles) => {\r\n      setFiles(\r\n        acceptedFiles.map((file) =>\r\n          Object.assign(file, {\r\n            src: URL.createObjectURL(file),\r\n          })\r\n        )\r\n      )\r\n    },\r\n  })\r\n\r\n  if (files.length > 0) {\r\n    for (let i = 0; i < files.length; i++) {\r\n      dispatch(createRecipe(files[i]))\r\n    }\r\n  }\r\n\r\n  return (\r\n      <div {...getRootProps({className: 'container-4'})}>\r\n        <input {...getInputProps()} />\r\n        <p id=\"drag-text\">Drag 'n' drop some images here, or click to select images</p>\r\n      </div>\r\n     \r\n  );\r\n}\r\n\r\nexport default DragnDrop","import React, { useState }  from 'react'\r\nimport '../../index.css'\r\nimport { createRecipe } from '../../reducers/recipeReducer'\r\nimport { useDispatch } from 'react-redux'\r\n\r\nfunction ClipboardDrop() {\r\n  const dispatch = useDispatch()\r\n  const [file, setFile] = useState(null)\r\n  const [fileName, setFileName] = useState('')\r\n\r\n  if (file) {\r\n    if (!fileName) {\r\n      dispatch(createRecipe(file, new Date()))\r\n    }\r\n    dispatch(createRecipe(file, fileName))\r\n    setFile(null)\r\n    setFileName('')\r\n  }\r\n\r\n  const handlePaste = (event) => {\r\n    const items = (event.clipboardData || event.originalEvent.clipboardData).items;\r\n    let blob = null;\r\n\r\n    for (const item of items) {\r\n      if (item.type.indexOf('image') === 0) {\r\n        blob = item.getAsFile();\r\n      }\r\n    }\r\n\r\n    if (blob !== null) {\r\n      const reader = new FileReader();\r\n      reader.onload = (evt) => {\r\n        setFile(evt.target.result)\r\n      }\r\n      reader.readAsDataURL(blob)\r\n    } \r\n  }\r\n\r\n  return (\r\n    <div className=\"container-4\">\r\n      <p id=\"guidance-text\">1. Name recipe before upload</p>\r\n        <input className=\"grey-input-2\"\r\n          value={fileName}\r\n          onChange={({ target }) => setFileName(target.value)}\r\n          placeholder=\"Filename\"\r\n        />\r\n      <textarea id=\"clipboard-textarea\" placeholder=\"2. Click here to select and ctrl + v to upload image from clipboard\" onPaste={handlePaste}></textarea>\r\n    </div>\r\n      \r\n  )\r\n}\r\n\r\nexport default ClipboardDrop","import React from 'react'\r\nimport Heading2 from '../Heading'\r\nimport LogOutLinkButton from './LogOutLinkButton'\r\nimport '../../index.css'\r\nimport DragnDrop from './DragnDrop'\r\nimport ClipboardDrop from './ClipboardDrop'\r\n\r\nconst Upload = () => {\r\n\r\n  return (\r\n    <> \r\n      <div className=\"container-2\">\r\n        <Heading2 to=\"/\" />\r\n        <LogOutLinkButton id=\"button-log-out\" text=\"Log Out\" to=\"/\"/>\r\n      </div>\r\n      <div className=\"invisible-item-2\"></div>\r\n      <ClipboardDrop/>\r\n      <div className=\"invisible-item-2\"></div>\r\n      <DragnDrop/>\r\n    </>\r\n   \r\n  )\r\n}\r\n\r\nexport default Upload\r\n","import React from 'react'\r\nimport { Heading3 } from '../Heading'\r\nimport LinkButton from '../LinkButton'\r\nimport Button from '../Button'\r\nimport Heading2 from '../Heading'\r\nimport '../../index.css'\r\nimport { logOut } from '../../reducers/userReducer'\r\nimport { useDispatch } from 'react-redux'\r\n\r\n\r\n\r\nconst AboutTopBlock = (props) => {\r\n  const dispatch = useDispatch()\r\n  const handleLogout = () => {\r\n    dispatch(logOut())\r\n  }\r\n\r\n  return (\r\n    <div className=\"container-2\">\r\n      <Heading2 to=\"/\"/>\r\n      <Heading3/>\r\n      {props.user ? \r\n        <Button id=\"button-log-out\" text=\"Log Out\" handleClick={handleLogout}/> :\r\n        <LinkButton id=\"button-log-out\" text=\"Log In\" to=\"/\"/>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AboutTopBlock\r\n","import React from 'react'\r\nimport '../index.css'\r\n\r\nconst Notification = ({ notification }) => {\r\n\r\n  if (!notification) {\r\n    return null\r\n  }\r\n  \r\n  return (\r\n    <div className=\"notification\">\r\n      {notification}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification","import React, { useEffect } from 'react'\nimport './index.css'\n\nimport {\n  BrowserRouter as Router,\n  Switch, Route, Redirect\n} from \"react-router-dom\"\n\nimport LogInBlock from './components//LogInPage/LogInBlock'\nimport SignUpBlock from './components//SignUpPage/SignUpBlock'\nimport Recipes from './components//HomePage/Recipes'\nimport LoggedInBlock from './components//HomePage/LoggedInBlock'\nimport About from './components//AboutPage/About'\nimport Footer from './components/Footer'\nimport HomeTopBlock from './components//HomePage/HomeTopBlock'\nimport Upload from './components//UploadPage/Upload'\nimport AboutTopBlock from './components//AboutPage/AboutTopBlock'\nimport Notification from './components/Notification'\n\nimport { useDispatch, useSelector } from 'react-redux'\nimport { initRecipes} from './reducers/recipeReducer'\nimport { initUser} from './reducers/userReducer'\nimport { initUsers} from './reducers/usersReducer'\n\nconst App = () => {\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    dispatch(initRecipes())\n    dispatch(initUser())\n    dispatch(initUsers())\n  }, [dispatch])\n\n  const recipes = useSelector(state => state.recipes)\n  const user = useSelector(state => state.user)\n  const users = useSelector(state => state.users)\n  const signUpUser = useSelector(state => state.signUpUser)\n  const notification = useSelector(state => state.notification) \n\n  const HomePage = () => {\n    const usersRecipes = recipes.filter(r => r.user.username === user.username)\n    const search = useSelector(state => state.filter)\n    const searchedRecipes = usersRecipes.filter(r => r.thumbnailCaption.toLowerCase().indexOf(search.toLowerCase()) > -1)\n    console.log(searchedRecipes);\n    return (\n      <div className=\"site-wrapper\">\n        <Notification notification={notification}/>\n        <HomeTopBlock />\n        <LoggedInBlock user={user} users={users}/>\n        <main>\n          <Recipes recipes={searchedRecipes}/>\n        </main>\n        <Footer/>\n      </div>\n    )\n  }\n\n  const LogInPage = () => {\n    return (\n      <div className=\"site-wrapper\">\n        <Notification notification={notification}/>\n        <main>\n          <LogInBlock/>\n        </main>\n        <Footer/>\n      </div>\n    )\n  }\n\n  const SignUpPage = () => {\n    return (\n      <div className=\"site-wrapper\">\n        <Notification notification={notification}/>\n        <main>\n          <SignUpBlock/>\n        </main>\n        <Footer/>\n      </div>\n    )\n  }\n\n  const UploadPage = () => {\n    return (\n      <div className=\"site-wrapper\">\n        <Notification notification={notification}/>\n        <main>\n          <Upload user={user} />  \n        </main>\n        <Footer/>\n      </div>\n    )\n  }\n\n  const AboutPage = () => {\n    return (\n      <div className=\"site-wrapper\">\n        <AboutTopBlock user={user}/>\n        <main>\n        <About/>\n        </main>\n        <Footer/>\n      </div>\n    )\n  }\n\n  return (\n      <>\n          <Router>\n            <Switch>\n\n              <Route path=\"/login\">\n                <LogInPage/>\n              </Route>\n\n              <Route path=\"/signup\">\n                {signUpUser ? <Redirect to=\"/\"/> : <SignUpPage/>}\n              </Route>\n\n              <Route path=\"/upload\">\n                <UploadPage/>\n              </Route> \n\n              <Route path=\"/about\">\n                <AboutPage />\n              </Route>\n\n              <Route path=\"/\">\n                {user === null ?\n                  <LogInPage/> :\n                  <HomePage/>\n                }\n              </Route>\n\n            </Switch>\n          </Router>\n        </>\n  )\n}\n\nexport default App\n","import { createStore, combineReducers, applyMiddleware } from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\n\r\nimport recipeReducer from './reducers/recipeReducer'\r\nimport userReducer from './reducers/userReducer'\r\nimport usersReducer from './reducers/usersReducer'\r\nimport filterReducer from './reducers/filterReducer'\r\nimport signUpReducer from './reducers/signUpReducer'\r\nimport notificationReducer from './reducers/notificationReducer'\r\n\r\nconst reducer = combineReducers({\r\n  recipes: recipeReducer,\r\n  user: userReducer,\r\n  users: usersReducer,\r\n  filter: filterReducer,\r\n  signUpUser: signUpReducer,\r\n  notification: notificationReducer\r\n})\r\n\r\nconst store = createStore(\r\n  reducer,\r\n  composeWithDevTools(\r\n    applyMiddleware(thunk)\r\n  )\r\n)\r\n\r\nexport default store","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { Provider } from 'react-redux'\nimport store from './store'\n\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n)"],"sourceRoot":""}