(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{144:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),i=n(17),u=n.n(i),s=(n(7),n(62)),o=n(5),l=n(2),p=n.n(l),m=n(4),d=n(10),f=function(){return c.a.createElement("h1",{className:"h1-heading"},"Recipet")},h=function(){return c.a.createElement("h2",{className:"h3-heading"},"About")},v=Object(o.g)((function(e){var t=e.history,n=e.to,a=e.onClick;return c.a.createElement("h1",{className:"h1-heading",onClick:function(e){a&&a(e),t.push(n)}},"Recipet")})),E=Object(o.g)((function(e){var t=e.history,n=e.to,a=e.onClick;return c.a.createElement("h2",{className:"h2-heading",onClick:function(e){a&&a(e),t.push(n)}},"Recipet")})),g=Object(o.g)((function(e){var t=e.history,n=e.to,a=e.onClick,r=e.id,i=e.className,u=e.text,s=e.type;return c.a.createElement("button",{type:s,id:r,className:i,onClick:function(e){a&&a(e),t.push(n)}},u)})),b=function(e){var t=e.handleSubmit,n=e.handleUsernameChange,a=e.handlePasswordChange,r=e.username,i=e.password,u=e.buttonText,s=e.namePlaceholder,o=e.passwordPlaceHolder;return c.a.createElement("form",{onSubmit:t},c.a.createElement("div",null,c.a.createElement("input",{placeholder:s,className:"grey-input",id:"username",value:r,onChange:n})),c.a.createElement("div",null,c.a.createElement("input",{placeholder:o,className:"grey-input",id:"password",type:"password",value:i,onChange:a})),c.a.createElement(g,{id:"login-button",text:u,className:"blue-box-button",type:"submit"}))},O=n(14),w=n.n(O),S={getUsers:function(){var e=Object(m.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("".concat("/api/users","/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAll:function(){return w.a.get("/api/users").then((function(e){return e.data}))},signUp:function(){var e=Object(m.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.post("/api/users",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(m.a)(p.a.mark((function t(n){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S.signUp(e);case 3:a=t.sent,n({type:"SIGNUP_USER",createdUser:a}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGNUP_USER":return t.createdUser;case"NULL_SIGN_UP_USER":return null;default:return e}},N=n(3),x=function(){var e=Object(N.c)();return c.a.createElement("p",{className:"black-text"},"Don't have an account?",c.a.createElement(g,{className:"blue-text-button",onClick:function(){e({type:"NULL_SIGN_UP_USER"})},text:"Sign up",to:"/signup"}))},C=n(23),I=null,k={getAll:function(){return w.a.get("/api/recipes").then((function(e){return e.data}))},create:function(){var e=Object(m.a)(p.a.mark((function e(t){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:I}},e.next=3,w.a.post("/api/recipes",t,n);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(m.a)(p.a.mark((function e(t){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:I}},e.next=3,w.a.put("".concat("/api/recipes","/").concat(t.id),t,n);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),setToken:function(e){I="bearer ".concat(e)},nullToken:function(){I=null},remove:function(){var e=Object(m.a)(p.a.mark((function e(t){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:I}},a=w.a.delete("".concat("/api/recipes","/").concat(t),n),e.abrupt("return",a.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},U={login:function(){var e=Object(m.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.post("/api/login",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},R=function(e,t){return function(){var n=Object(m.a)(p.a.mark((function n(r){return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r({type:"SET_NOTIFICATION",content:e}),a&&clearTimeout(a),window.scrollTo(0,0),a=setTimeout((function(){r({type:"CLEAR_NOTIFICATION"})}),1e3*t);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_NOTIFICATION":return t.content;case"CLEAR_NOTIFICATION":return null;default:return e}},P=function(e){return function(){var t=Object(m.a)(p.a.mark((function t(n){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U.login(e);case 3:a=t.sent,window.localStorage.setItem("loggedRecipetUser",JSON.stringify(a)),k.setToken(a.token),n(R("User ".concat(a.username," signed in successfully"),5)),n({type:"LOGIN_USER",user:a}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),n(R("Invalid username or password",5));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},_=function(){return function(){var e=Object(m.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.localStorage.removeItem("loggedRecipetUser"),k.nullToken(),t({type:"LOGOUT_USER"});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_USER":return t.loggedUser;case"LOGIN_USER":return Object(C.a)({},t.user);case"LOGOUT_USER":return null;default:return e}},L=function(){var e=Object(N.c)(),t=Object(r.useState)(""),n=Object(d.a)(t,2),a=n[0],i=n[1],u=Object(r.useState)(""),s=Object(d.a)(u,2),o=s[0],l=s[1],h=function(){var t=Object(m.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault();try{e({type:"NULL_SIGN_UP_USER"}),e(P({username:a,password:o})),i(""),l("")}catch(r){}case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return c.a.createElement("div",{className:"container-1"},c.a.createElement(f,null),c.a.createElement(b,{username:a,password:o,handleUsernameChange:function(e){var t=e.target;return i(t.value)},handlePasswordChange:function(e){var t=e.target;return l(t.value)},handleSubmit:h,buttonText:"Log In",namePlaceholder:"Username",passwordPlaceHolder:"Password"}),c.a.createElement(x,null))},F=function(){var e=Object(N.c)(),t=Object(r.useState)(""),n=Object(d.a)(t,2),a=n[0],i=n[1],u=Object(r.useState)(""),s=Object(d.a)(u,2),o=s[0],l=s[1],f=function(){var t=Object(m.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),t.prev=1,!(o.length<3)){t.next=4;break}throw new Error("Password's minimum length is 3");case 4:if(!(a.length<3)){t.next=6;break}throw new Error("Username's minimum length is 3");case 6:e(j({username:a,password:o})),i(""),l(""),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e(R(t.t0.message,5));case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}();return c.a.createElement("div",{className:"container-1"},c.a.createElement(v,{to:"/"}),c.a.createElement(b,{username:a,password:o,handleUsernameChange:function(e){var t=e.target;return i(t.value)},handlePasswordChange:function(e){var t=e.target;return l(t.value)},handleSubmit:f,buttonText:"Sign Up",to:"/",namePlaceholder:"Username (min. length 3)",passwordPlaceHolder:"Password (min. length 3)"}))},q=n(59),D=n(60),M=n(27),G=n(67),H=n(66),J=n(35),V=n.n(J),z=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET":return t.data;case"UNSET":return!1;default:return e}},Y=n(24),W=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(){var n=Object(m.a)(p.a.mark((function n(a){var r,c,i,u,s;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=function(){var t=Object(m.a)(p.a.mark((function t(){var n,a,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new FormData).append("file",e),n.append("upload_preset","recipetPreset"),t.next=5,fetch("\thttps://api.cloudinary.com/v1_1/recipet/image/upload",{method:"POST",body:n});case 5:return a=t.sent,t.next=8,a.json();case 8:return r=t.sent,t.abrupt("return",r.secure_url);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n.prev=1,c=t||e.name,n.next=5,r();case 5:if(!(i=n.sent)||!c){n.next=13;break}return u={src:i,thumbnail:i,thumbnailWidth:436,thumbnailHeight:436,caption:c,thumbnailCaption:c},n.next=10,k.create(u);case 10:s=n.sent,a({type:"CREATE_RECIPE",data:s}),a(R("Recipe '".concat(s.thumbnailCaption,"' added!"),5));case 13:n.next=18;break;case 15:n.prev=15,n.t0=n.catch(1),a(R(n.t0.message,5));case 18:case"end":return n.stop()}}),n,null,[[1,15]])})));return function(e){return n.apply(this,arguments)}}()},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_RECIPES":return Object(Y.a)(t.data);case"CREATE_RECIPE":return[].concat(Object(Y.a)(e),[t.data]);case"REMOVE_RECIPE":return Object(Y.a)(e).filter((function(e){return e.id!==t.data}));case"UPDATE_RECIPE":return Object(Y.a)(e).map((function(e){return e.id===t.data.id?t.data:e}));default:return e}},B=function(e){return function(){var t=Object(m.a)(p.a.mark((function t(n){var a,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.getAll();case 2:a=t.sent,e&&(r=a.find((function(t){return t.username===e.username})),console.log(r.recipes.length),n({type:"INIT_USERS",users:r.recipes.length}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_USERS":return t.users;default:return e}},Q=function(e){var t=e.recipe,n=e.top,a=e.left,i=e.recipes,u=e.updateStateFromChild,s=Object(N.c)(),o=Object(r.useState)(""),l=Object(d.a)(o,2),f=l[0],h=l[1],v=Object(N.d)((function(e){return e.user})),E=function(e){var t=Object(C.a)(Object(C.a)({},e),{},{thumbnailCaption:f,caption:f});s(function(e,t){return function(){var n=Object(m.a)(p.a.mark((function n(a){var r;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,k.update(e);case 3:r=n.sent,a({type:"UPDATE_RECIPE",data:r}),a(R("".concat(t,"'s name changed"),5)),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),a(R(n.t0.message,5));case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}(t,e.thumbnailCaption)),s({type:"UNSET"})},g=function(e,t){s(function(e,t){return function(){var n=Object(m.a)(p.a.mark((function n(a){return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,k.remove(e);case 3:a({type:"REMOVE_RECIPE",data:e}),a(R("".concat(t," removed"),5)),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),a(R(n.t0.message,5));case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()}(e,t)),s(B(v)),s({type:"UNSET"})};return c.a.createElement("div",{className:"container-5"},c.a.createElement("button",{id:"unselect-button",onClick:function(){return function(){var e=i.map((function(e){return e.hasOwnProperty("isSelected")?(e.isSelected=!1,e):e}));u(e),window.scrollTo(a,n),s({type:"UNSET"})}()}},"Unselect"),c.a.createElement("button",{id:"delete-button",onClick:function(){return g(t.id,t.thumbnailCaption)}},"Delete"),c.a.createElement("input",{className:"white-input",placeholder:"Filename",value:f,onChange:function(e){var t=e.target;return h(t.value)}}),c.a.createElement("button",{onClick:function(){return E(t)},id:"rename-button"},"Rename"))},Z=function(e){Object(G.a)(n,e);var t=Object(H.a)(n);function n(e){var a,r;return Object(q.a)(this,n),(a=t.call(this,e)).updateStateFromChild=function(e){a.setState({recipes:e})},a.state={recipes:a.props.recipes,renderModifyOptions:!1,selectedImg:{},top:window.pageYOffset||document.documentElement.scrollTop,left:window.pageXOffset||document.documentElement.scrollLeft},a.handlers=(r=a.props.dispatch,{disSet:function(){r({type:"SET",data:!0})},disUnset:function(){r({type:"UNSET"})},disSetNotification:function(e,t){r(R(e,t))}}),a.onSelectImage=a.onSelectImage.bind(Object(M.a)(a)),a}return Object(D.a)(n,[{key:"getRecipes",value:function(){var e=this;return this.state.recipes.filter((function(t){return t.thumbnailCaption.toLowerCase().indexOf(e.props.search.toLowerCase())>-1}))}},{key:"onSelectImage",value:function(e){this.setState({top:window.pageYOffset||document.documentElement.scrollTop,left:window.pageXOffset||document.documentElement.scrollLeft});var t=this.state.recipes.slice(),n=t[e];n.hasOwnProperty("isSelected")?n.isSelected=!n.isSelected:n.isSelected=!0,this.props.renderMod?this.props.renderMod&&this.handlers.disUnset():(this.handlers.disSet(),window.scrollTo(0,0));var a=t.filter((function(e){return e.hasOwnProperty("isSelected")&&!0===e.isSelected}));a.length>1&&(a.forEach((function(e){return e.isSelected=!1})),this.handlers.disSetNotification("Select only 1 image for modification",5)),this.setState({recipes:t,selectedImg:n})}},{key:"render",value:function(){return this.props.renderMod?c.a.createElement("div",null,c.a.createElement(Q,{updateStateFromChild:this.updateStateFromChild,recipes:this.state.recipes,recipe:this.state.selectedImg,top:this.state.top,left:this.state.left}),c.a.createElement(V.a,{rowHeight:436,margin:22.5,backdropClosesModal:!0,onSelectImage:this.onSelectImage,images:this.getRecipes(),showImageCount:!1})):c.a.createElement("div",null,c.a.createElement(V.a,{rowHeight:436,margin:26,backdropClosesModal:!0,onSelectImage:this.onSelectImage,images:this.getRecipes(),showImageCount:!1}))}}]),n}(c.a.Component),$=Object(N.b)((function(e){return{recipes:e.recipes,renderMod:e.renderMod,search:e.filter}}))(Z),ee=function(e){return c.a.createElement("div",{className:"logged-in-user"},c.a.createElement("h3",{id:"h3-heading"},e.user.username),c.a.createElement("p",{id:"hasRecipes"},e.usersRecipeCount," recipes"))},te=function(e){return c.a.createElement("div",{className:"container-3"},c.a.createElement(ee,{user:e.user,usersRecipeCount:e.usersRecipeCount}),c.a.createElement("div",{className:"invisible-item"}),c.a.createElement(g,{id:"upload-button",text:"Upload Recipe",to:"/upload"}))},ne=function(){return c.a.createElement("div",{className:"container-3"},c.a.createElement("article",null,c.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum quis vestibulum tortor. Sed imperdiet dapibus elementum. Ut mauris ante, ultricies sit amet diam et, ullamcorper tristique nisl. Duis pretium consequat sagittis. Nam ultrices facilisis enim, eu ultricies massa feugiat vel. Sed quis gravida orci, eget ultricies sapien. Nullam eleifend erat ut magna ultrices interdum. Curabitur ac lacus quis dui vestibulum scelerisque. In porttitor rutrum hendrerit. Etiam ut ipsum felis. Vestibulum molestie neque in suscipit finibus. Aenean tincidunt lectus enim, ut varius est mollis a. Etiam dignissim mauris eget sapien pellentesque ultrices nec vitae nisl. Aenean sollicitudin sagittis purus, eu rutrum sapien tristique eget. In quis nunc aliquam, facilisis enim congue, gravida ex. In ipsum tortor, blandit ut facilisis ut, accumsan quis ex. Sed sagittis nisi sed justo fringilla, eleifend varius tellus ornare. Fusce iaculis dui dui, at lacinia lectus molestie sed. Sed viverra vitae risus eu congue. Nulla maximus, arcu id vehicula finibus, nisl sem gravida arcu, nec iaculis nisi nisl nec augue. Aliquam efficitur tortor tincidunt, auctor orci sed, ullamcorper massa. Maecenas non enim leo. Nunc malesuada sagittis pretium. Integer et convallis ante. Etiam pretium justo non nisi egestas pellentesque. Ut faucibus nisi quis est ornare porttitor. Fusce consequat eros et sem pharetra, vitae accumsan ipsum dignissim. Etiam eros felis, sollicitudin vel blandit eget, consectetur in felis. Mauris semper nibh eu nunc posuere, non consectetur elit varius. Sed quam tellus, vulputate a venenatis pretium, consequat vel orci.")))},ae=function(){return c.a.createElement("p",{className:"footer"},(new Date).getFullYear()," Recipet | Full Stack Open -harjoitusty\xf6 |",c.a.createElement(g,{className:"blue-text-button",text:"About",to:"/about"}))},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH":return t.data;default:return e}},ce=function(){var e=Object(N.c)();return c.a.createElement("input",{className:"search-input",onChange:function(t){e({type:"SEARCH",data:t.target.value})},placeholder:"Search"})},ie=function(e){return c.a.createElement("button",{onClick:e.handleClick,id:e.id,className:e.className},e.text)},ue=function(){var e=Object(N.c)();return c.a.createElement("div",{className:"container-2"},c.a.createElement(E,{to:"/"}),c.a.createElement(ce,null),c.a.createElement(ie,{id:"button-log-out",text:"Log Out",handleClick:function(){e(_())}}))},se=Object(o.g)((function(e){var t=e.history,n=e.to,a=e.id,r=e.className,i=e.text,u=e.type,s=Object(N.c)(),o=function(){s(_())};return c.a.createElement("button",{type:u,id:a,className:r,onClick:function(e){o&&o(),t.push(n)}},i)})),oe=n(65);var le=function(){var e=Object(N.c)(),t=Object(r.useState)([]),n=Object(d.a)(t,2),a=n[0],i=n[1],u=Object(oe.a)({accept:"image/*",onDrop:function(e){i(e.map((function(e){return Object.assign(e,{src:URL.createObjectURL(e)})})))}}),s=u.getRootProps,o=u.getInputProps,l=Object(N.d)((function(e){return e.user}));return 1===a.length?(e(W(a[0])),e(B(l))):a.length>1&&e(R("Too many files!",5)),c.a.createElement("div",s({className:"container-4"}),c.a.createElement("input",o()),c.a.createElement("p",{id:"drag-text"},"Drag 'n' drop (1) image here, or click to select image"))},pe=n(61);var me=function(){var e=Object(N.c)(),t=Object(r.useState)(null),n=Object(d.a)(t,2),a=n[0],i=n[1],u=Object(r.useState)(""),s=Object(d.a)(u,2),o=s[0],l=s[1],p=Object(N.d)((function(e){return e.user}));return a&&(o||(e(W(a,new Date)),e(B(p))),e(W(a,o)),e(B(p)),i(null),l("")),c.a.createElement("div",{className:"container-4"},c.a.createElement("p",{id:"guidance-text"},"1. Name recipe before upload"),c.a.createElement("input",{className:"grey-input-2",value:o,onChange:function(e){var t=e.target;return l(t.value)},placeholder:"Filename"}),c.a.createElement("textarea",{id:"clipboard-textarea",placeholder:"2. Click here to select and ctrl + v to upload image from clipboard",onPaste:function(e){var t,n=(e.clipboardData||e.originalEvent.clipboardData).items,a=null,r=Object(pe.a)(n);try{for(r.s();!(t=r.n()).done;){var c=t.value;0===c.type.indexOf("image")&&(a=c.getAsFile())}}catch(s){r.e(s)}finally{r.f()}if(null!==a){var u=new FileReader;u.onload=function(e){i(e.target.result)},u.readAsDataURL(a)}}}))},de=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"container-2"},c.a.createElement(E,{to:"/"}),c.a.createElement(se,{id:"button-log-out",text:"Log Out",to:"/"})),c.a.createElement("div",{className:"invisible-item-2"}),c.a.createElement(me,null),c.a.createElement("div",{className:"invisible-item-2"}),c.a.createElement(le,null))},fe=function(e){var t=Object(N.c)();return c.a.createElement("div",{className:"container-2"},c.a.createElement(E,{to:"/"}),c.a.createElement(h,null),e.user?c.a.createElement(ie,{id:"button-log-out",text:"Log Out",handleClick:function(){t(_())}}):c.a.createElement(g,{id:"button-log-out",text:"Log In",to:"/"}))},he=function(e){var t=e.notification;return t?c.a.createElement("div",{className:"notification"},t):null},ve=function(){var e=Object(N.c)();Object(r.useEffect)((function(){document.title="Recipet"}),[]),Object(r.useEffect)((function(){e(function(){var e=Object(m.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=JSON.parse(window.localStorage.getItem("loggedRecipetUser")))&&(k.setToken(n.token),t({type:"INIT_USER",loggedUser:n}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]);var t=Object(N.d)((function(e){return e.user}));Object(r.useEffect)((function(){e(function(e){return function(){var t=Object(m.a)(p.a.mark((function t(n){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.getAll();case 3:a=t.sent,e&&n({type:"INIT_RECIPES",data:a.filter((function(t){return t.user.username===e.username}))}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n(R(t.t0.message,5));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(t)),e(B(t))}),[e,t]);var n=Object(N.d)((function(e){return e.recipes})),a=Object(N.d)((function(e){return e.users})),i=Object(N.d)((function(e){return e.signUpUser})),u=Object(N.d)((function(e){return e.notification})),l=function(){return c.a.createElement("div",{className:"site-wrapper"},c.a.createElement(he,{notification:u}),c.a.createElement(ue,null),c.a.createElement(te,{user:t,usersRecipeCount:a}),c.a.createElement("main",null,c.a.createElement($,{recipes:n,user:t,dispatch:e})),c.a.createElement(ae,null))},d=function(){return c.a.createElement("div",{className:"site-wrapper"},c.a.createElement(he,{notification:u}),c.a.createElement("main",null,c.a.createElement(L,null)),c.a.createElement(ae,null))},f=function(){return c.a.createElement("div",{className:"site-wrapper"},c.a.createElement(he,{notification:u}),c.a.createElement("main",null,c.a.createElement(F,null)),c.a.createElement(ae,null))},h=function(){return c.a.createElement("div",{className:"site-wrapper"},c.a.createElement(he,{notification:u}),c.a.createElement("main",null,c.a.createElement(de,{user:t})),c.a.createElement(ae,null))},v=function(){return c.a.createElement("div",{className:"site-wrapper"},c.a.createElement(fe,{user:t}),c.a.createElement("main",null,c.a.createElement(ne,null)),c.a.createElement(ae,null))};return c.a.createElement(c.a.Fragment,null,c.a.createElement(s.a,null,c.a.createElement(o.d,null,c.a.createElement(o.b,{path:"/login"},c.a.createElement(d,null)),c.a.createElement(o.b,{path:"/signup"},i?c.a.createElement(o.a,{to:"/"}):c.a.createElement(f,null)),c.a.createElement(o.b,{path:"/upload"},c.a.createElement(h,null)),c.a.createElement(o.b,{path:"/about"},c.a.createElement(v,null)),c.a.createElement(o.b,{path:"/"},null===t?c.a.createElement(d,null):c.a.createElement(l,null)))))},Ee=n(18),ge=n(63),be=n(64),Oe=Object(Ee.combineReducers)({recipes:X,user:A,users:K,filter:re,signUpUser:y,notification:T,renderMod:z}),we=Object(Ee.createStore)(Oe,Object(be.composeWithDevTools)(Object(Ee.applyMiddleware)(ge.a)));u.a.render(c.a.createElement(N.a,{store:we},c.a.createElement(ve,null)),document.getElementById("root"))},68:function(e,t,n){e.exports=n(144)},7:function(e,t,n){}},[[68,1,2]]]);
//# sourceMappingURL=main.599faee3.chunk.js.map